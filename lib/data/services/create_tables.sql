CREATE TABLE IF NOT EXISTS "task" (
  "id" INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT UNIQUE,
  "project_id" INTEGER NOT NULL,
  "name" VARCHAR NOT NULL,
  "description" VARCHAR,
  FOREIGN KEY ("project_id") REFERENCES "project"("id")
  ON UPDATE NO ACTION ON DELETE NO ACTION
);

CREATE TABLE IF NOT EXISTS "project" (
  "id" INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT UNIQUE,
  "due_date" DATETIME,
  "name" VARCHAR NOT NULL,
  "description" VARCHAR
);

CREATE TABLE IF NOT EXISTS "activity" (
  "id" INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT UNIQUE,
  "task_id" INTEGER,
  "note" VARCHAR,
  "started_at" DATETIME NOT NULL,
  "duration_in_seconds" INTEGER NOT NULL,
  FOREIGN KEY ("task_id") REFERENCES "task"("id")
  ON UPDATE NO ACTION ON DELETE NO ACTION
);
